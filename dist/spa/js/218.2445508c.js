(globalThis["webpackChunkquasar_vue3_tsx"]=globalThis["webpackChunkquasar_vue3_tsx"]||[]).push([[218],{4218:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>n});var a=s(9436),o=s(1748),t=s(7652),r=s.n(t);const n=(0,a.pM)({name:"ProfilePage",setup(){const{user:e}=(0,o.n)();console.log("user:",e.uid);const l=(0,a.KR)(!1),s=(0,a.Kh)({username:e.displayName||"",email:e.email||""}),t=()=>{l.value=!l.value},n=async()=>{},i=()=>{s.username=e.displayName||"",s.email=e.email||"",l.value=!1};return()=>(0,a.bF)("div",{class:"pt-3"},[(0,a.bF)("div",{class:"bg-[#fff] w-full rounded-xl h-full"},[(0,a.bF)("div",{class:"p-4"},[(0,a.bF)("p",{class:"font-bold text-3xl"},[(0,a.eW)("Profile")])]),(0,a.bF)("hr",null,null),(0,a.bF)("div",{class:"flex flex-row items-start justify-start px-4 py-4"},[(0,a.bF)("div",{class:"basis-1/5"},[(0,a.bF)("p",{class:"font-bold"},[(0,a.eW)("Profile photo")])]),(0,a.bF)("div",{class:"flex-1"},[(0,a.bF)("div",{class:"flex flex-row gap-8 items-center"},[(0,a.bF)("img",{src:r(),alt:"profile",class:"rounded-lg w-32 h-32"},null),(0,a.bF)("div",{class:"flex flex-col gap-4"},[(0,a.bF)("button",{class:"px-[1px] py-[3px] text-xs border-[1px] border-solid border-black rounded-full font-bold w-32 text-center hover:bg-gray-100"},[(0,a.bF)("i",{class:"material-icons-outlined text-sm"},[(0,a.eW)("add")]),(0,a.eW)(" Upload photo")]),(0,a.bF)("div",{class:"text-sm"},[(0,a.bF)("p",null,[(0,a.eW)("Supported formats: jpg, gif or png.")]),(0,a.bF)("p",null,[(0,a.eW)("Max file size: 500k")])])])])])]),(0,a.bF)("hr",null,null),(0,a.bF)("div",{class:"flex flex-row items-start justify-start px-4 py-4"},[(0,a.bF)("div",{class:"basis-1/5"},[(0,a.bF)("p",{class:"font-bold"},[(0,a.eW)("Contact")])]),(0,a.bF)("div",{class:"flex-1"},[(0,a.bF)("div",{class:"text-[#424242ff]"},[(0,a.bF)("label",{for:"username",class:"block"},[(0,a.eW)("Full name*")]),(0,a.bo)((0,a.bF)("input",{type:"text",placeholder:"Type your name here","onUpdate:modelValue":e=>s.username=e,class:"w-[40%] px-3 py-2 bg-[#f6f5f3] mt-2 rounded-lg"},null),[[a.Jo,s.username]])])])]),(0,a.bF)("hr",null,null),(0,a.bF)("div",{class:"flex flex-row items-center justify-start px-4 py-4"},[(0,a.bF)("div",{class:"basis-1/5"},[(0,a.bF)("p",{class:"font-bold"},[(0,a.eW)("Email address")])]),(0,a.bF)("div",{class:"flex-1"},[(0,a.bF)("div",{class:"flex flex-row justify-between items-center"},[(0,a.bF)("button",{class:"px-3 py-[6px] border-[1px] text-xs border-solid border-black rounded-full font-bold text-center hover:bg-gray-100",onClick:t},[l.value?"Cancel":"Change email address"])])])]),(0,a.bF)("hr",null,null),(0,a.bF)("div",{class:"flex flex-row items-end justify-end px-4 py-4 h-[120px]"},[(0,a.bF)("div",{class:"flex flex-row gap-2 items-center text-xs"},[(0,a.bF)("button",{class:"px-8 py-[8px] border-[1px] border-solid border-black rounded-full font-bold text-center hover:bg-gray-100",onClick:i},[(0,a.eW)("Cancel")]),(0,a.bF)("button",{class:"px-4 py-[2px] border-[1px] border-solid border-black rounded-full font-bold bg-[#fedf51] text-center hover:bg-[#fde36e]",onClick:n},[(0,a.bF)("i",{class:"material-icons-outlined text-xl"},[(0,a.eW)("check")]),(0,a.eW)(" Save changes")])])])])])}})},1748:(e,l,s)=>{"use strict";s.d(l,{n:()=>p});s(6809);var a=s(9436),o=s(705),t=s(4560),r=s(6372),n=s(7483);const i={apiKey:"AIzaSyCyeGQB_nObxWMYPxIUbCp09Slv933ogXY",authDomain:"quasar-project-c858f.firebaseapp.com",projectId:"quasar-project-c858f",storageBucket:"quasar-project-c858f.appspot.com",messagingSenderId:"1096580598574",appId:"1:1096580598574:web:0d21165ae82f6cd37b88bf"},c=(0,r.Wp)(i),u=(0,n.xI)(c);(0,t.zj)((({app:e})=>{e.config.globalProperties.$firebaseAuth=u}));(0,n.hg)(u,(async e=>{if(e){const l=await e.getIdToken();localStorage.setItem("Token",l),localStorage.setItem("user",JSON.stringify(e))}else localStorage.removeItem("user"),localStorage.removeItem("Token")}));var d=s(5058),b=s(2836);const p=(0,o.nY)("auth",(()=>{const e=(0,a.KR)(null),l=(0,a.KR)(localStorage.getItem("authToken")),s=(0,a.KR)(!1),o=(0,b.rd)(),t=async(l,a)=>{s.value=!0;try{const s=await(0,n.eJ)(u,l,a);e.value=s.user,(0,d.y)("Registration successful!","positive")}catch(o){console.error("Registration error:",o),(0,d.y)("Registration failed. Please try again.","negative")}finally{s.value=!1}},r=async(l,a)=>{s.value=!0;try{const s=await(0,n.x9)(u,l,a);e.value=s.user,(0,d.y)("Login successful!","positive"),o.push("/dashboard")}catch(t){console.error("Login error:",t),(0,d.y)("Login failed. Please check your credentials.","negative")}finally{s.value=!1}},i=async()=>{try{await(0,n.CI)(u),e.value=null,l.value=null,(0,d.y)("Logout successful!","positive"),o.push("/login")}catch(s){console.error("Logout error:",s),(0,d.y)("Logout failed. Please try again.","negative")}},c=async()=>{const e=u.currentUser;if(e)try{const s=await e.getIdToken(!0);l.value=s,localStorage.setItem("Token",s),console.log("Token refreshed:",s)}catch(s){console.error("Error refreshing token:",s)}},p=async()=>{const e=u.currentUser;if(e)try{const l=await e.getIdTokenResult(),{expirationTime:s}=l,a=(new Date).getTime(),o=new Date(s).getTime()<a;o?(console.warn("Token has expired."),await c()):console.log("Token is still valid.")}catch(l){console.error("Error checking token expiration:",l)}else console.log("No user is currently signed in.")};return{user:e,loading:s,token:l,register:t,login:r,logout:i,refreshToken:c,checkTokenExpiration:p}}))},5058:(e,l,s)=>{"use strict";s.d(l,{y:()=>t});var a=s(5084);const o=1e3,t=(e,l)=>{a.A.create({type:l,message:e,position:"bottom",timeout:o})}},7652:(e,l,s)=>{e.exports=s.p+"img/ava1.528c4f6b.png"}}]);